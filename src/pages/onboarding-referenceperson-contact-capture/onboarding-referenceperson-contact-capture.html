<ion-header>

  <ion-navbar color=primary hideBackButton="false">
    <ion-title class="title">
      Bezugsperson erfassen
    </ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">

    <p></p>

    <p>Daten und Texte f√ºr die <span class="highlight">Bezugsperson</span> erfassen.</p>

    <p>Name der Bezugsperson:</p>
    <ion-item id="textfield">
      <ion-input [(ngModel)]="bezugsperson_inputtext" formControlName="inputtext" type="text"></ion-input>
    </ion-item>

    <p>Telefonnummer:</p>
    <ion-item id="telefonnummer">
      <ion-input [(ngModel)]="bezugsperson_telefonnummer" formControlName="telefonnummer" type="tel">
      </ion-input>
    </ion-item>
    <p *ngIf="isSubmitted && !formGroup.controls.telefonnummer.valid" class="error-message">Bitte Telefonnummer korrekt
      eingeben (z. B. 079 999 99 99).</p>

    <p>SMS-Text:</p>
    <ion-item id="smstext">
      <ion-textarea [(ngModel)]="bezugsperson_smstext" formControlName="smstext" rows="1"></ion-textarea>
    </ion-item>

    <p>E-Mail-Adresse:</p>
    <ion-item id="e-mail">
      <ion-input [(ngModel)]="bezugsperson_email" formControlName="email" type="email">
      </ion-input>
    </ion-item>
    <p *ngIf="isSubmitted && !formGroup.controls.email.valid" class="error-message">Bitte E-Mail-Adresse korrekt
      eingeben.</p>

    <p>E-Mail-Text:</p>
    <ion-item id="emailtext">
      <ion-textarea [(ngModel)]="bezugsperson_emailtext" formControlName="emailtext" rows="1"></ion-textarea>
    </ion-item>

    <p class="save-text">
      * Die Kontaktinformationen werden nur lokal auf deinem Smartphone gespeichert.
    </p>

  </form>

</ion-content>

<ion-footer no-shadow>
  <ion-toolbar position="bottom">
    <button ion-button [color]="primary" [outline]="false" type="submit" [round]="true"
      [disabled]="!bezugsperson_inputtext || (!bezugsperson_telefonnummer && !bezugsperson_email)" (click)="saveData()">
      Speichern
    </button>
  </ion-toolbar>
</ion-footer>
